<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: 
                /* ‰∫ÆÊòüÂ±Ç - ‰ΩøÁî®Ê§≠ÂúÜÂΩ¢Áä∂Ê®°ÊãüÁúüÂÆûÊòüÊòü */
                radial-gradient(ellipse 4px 2px at 20px 30px, rgba(255,255,255,1) 0%, rgba(255,255,255,0.8) 30%, transparent 70%),
                radial-gradient(ellipse 3px 1.5px at 40px 70px, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 40%, transparent 80%),
                radial-gradient(ellipse 5px 2.5px at 90px 40px, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.7) 25%, transparent 65%),
                radial-gradient(ellipse 3px 1px at 130px 80px, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.5) 50%, transparent 90%),
                radial-gradient(ellipse 4px 2px at 160px 30px, rgba(255,255,255,1) 0%, rgba(255,255,255,0.8) 30%, transparent 70%),
                radial-gradient(ellipse 2px 1px at 200px 90px, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.4) 60%, transparent 100%),
                radial-gradient(ellipse 3px 1.5px at 240px 50px, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.6) 35%, transparent 75%),
                radial-gradient(ellipse 2px 1px at 280px 10px, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 45%, transparent 85%),
                radial-gradient(ellipse 4px 2px at 320px 70px, rgba(255,255,255,1) 0%, rgba(255,255,255,0.8) 30%, transparent 70%),
                radial-gradient(ellipse 2px 1px at 360px 40px, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.3) 70%, transparent 100%),
                radial-gradient(ellipse 3px 1.5px at 400px 80px, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.5) 40%, transparent 80%),
                radial-gradient(ellipse 2px 1px at 440px 20px, rgba(255,255,255,0.75) 0%, rgba(255,255,255,0.4) 55%, transparent 95%),
                
                /* ‰∏≠Á≠âÊòüÊòüÂ±Ç - ÂúÜÂΩ¢‰ΩÜÊúâÂÖâÊôïÊïàÊûú */
                radial-gradient(circle 2px at 60px 15px, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.3) 50%, transparent 100%),
                radial-gradient(circle 1.5px at 110px 65px, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.2) 60%, transparent 100%),
                radial-gradient(circle 2px at 180px 85px, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 40%, transparent 90%),
                radial-gradient(circle 1px at 220px 25px, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.1) 80%, transparent 100%),
                radial-gradient(circle 1.5px at 300px 55px, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.3) 50%, transparent 100%),
                radial-gradient(circle 1px at 380px 15px, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.2) 70%, transparent 100%),
                radial-gradient(circle 2px at 420px 75px, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 40%, transparent 90%),
                radial-gradient(circle 1px at 480px 35px, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.1) 80%, transparent 100%),
                
                /* ËøúË∑ùÁ¶ªÊòüÊòüÂ±Ç - ÁÇπÁä∂ÂÖâÊ∫ê */
                radial-gradient(circle 1px at 35px 55px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.5px at 75px 25px, rgba(255,255,255,0.5) 0%, transparent 100%),
                radial-gradient(circle 1px at 115px 85px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.5px at 145px 15px, rgba(255,255,255,0.6) 0%, transparent 100%),
                radial-gradient(circle 1px at 185px 65px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.5px at 215px 45px, rgba(255,255,255,0.5) 0%, transparent 100%),
                radial-gradient(circle 1px at 255px 75px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.5px at 295px 25px, rgba(255,255,255,0.6) 0%, transparent 100%),
                radial-gradient(circle 1px at 335px 85px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.5px at 375px 55px, rgba(255,255,255,0.5) 0%, transparent 100%),
                radial-gradient(circle 1px at 415px 15px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.5px at 455px 65px, rgba(255,255,255,0.6) 0%, transparent 100%),
                
                /* ÊòüÂ∞òÂ±Ç - ÊûÅÂ∞èÂÖâÁÇπ */
                radial-gradient(circle 0.3px at 25px 45px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.2px at 55px 75px, rgba(255,255,255,0.2) 0%, transparent 100%),
                radial-gradient(circle 0.3px at 85px 15px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.2px at 125px 55px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.3px at 155px 85px, rgba(255,255,255,0.2) 0%, transparent 100%),
                radial-gradient(circle 0.2px at 195px 25px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.3px at 235px 65px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.2px at 275px 45px, rgba(255,255,255,0.2) 0%, transparent 100%),
                radial-gradient(circle 0.3px at 315px 15px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.2px at 355px 75px, rgba(255,255,255,0.3) 0%, transparent 100%),
                radial-gradient(circle 0.3px at 395px 35px, rgba(255,255,255,0.2) 0%, transparent 100%),
                radial-gradient(circle 0.2px at 435px 85px, rgba(255,255,255,0.4) 0%, transparent 100%),
                radial-gradient(circle 0.3px at 475px 55px, rgba(255,255,255,0.3) 0%, transparent 100%),
                
                /* ÊòüÁ©∫ËÉåÊôØ - Ê∑±ÈÇÉÂÆáÂÆôËâ≤ÂΩ© */
                linear-gradient(135deg, #000000 0%, #0a0a1a 15%, #1a1a2e 30%, #16213e 45%, #0f3460 60%, #533483 75%, #2d1b69 90%, #1a0d33 100%);
            background-size: 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 600px 600px, 500px 500px, 500px 500px, 500px 500px, 500px 500px, 500px 500px, 500px 500px, 500px 500px, 500px 500px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 400px 400px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 300px 300px, 100% 100%;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }
        
        @keyframes sparkle {
            0% { background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0; }
            25% { background-position: 5px 3px, -3px 4px, 8px -2px, -5px 6px, 10px 1px, -8px -3px, 12px 5px, -10px 2px, 15px -1px, -12px 5px, 18px 3px, -15px -1px, 3px 2px, -4px 3px, 6px -2px, -6px 5px, 9px 1px, -9px -3px, 11px 4px, -11px 2px, 1px 3px, -3px 1px, 4px -3px, -4px 4px, 7px 0px, -7px -4px, 9px 3px, -9px 1px, 12px -2px, -12px 5px, 14px 2px, -14px -1px, 1px 4px, -2px 2px, 3px -1px, -3px 3px, 5px 0px, -5px -2px, 6px 3px, -8px 1px, 8px -3px, -10px 3px, 11px 2px, 0 0; }
            50% { background-position: 10px 6px, -6px 8px, 16px -4px, -10px 12px, 20px 2px, -16px -6px, 24px 10px, -20px 4px, 30px -2px, -24px 10px, 36px 6px, -30px -2px, 6px 4px, -8px 7px, 12px -4px, -12px 11px, 18px 1px, -18px -5px, 22px 8px, -22px 3px, 2px 6px, -6px 2px, 8px -6px, -8px 8px, 14px 0px, -14px -8px, 18px 7px, -18px 1px, 24px -3px, -24px 10px, 28px 4px, -28px -2px, 2px 8px, -4px 4px, 6px -2px, -6px 6px, 10px 0px, -10px -4px, 12px 5px, -16px 1px, 16px -5px, -20px 7px, 22px 3px, 0 0; }
            75% { background-position: 15px 9px, -9px 12px, 24px -6px, -15px 18px, 30px 3px, -24px -9px, 36px 15px, -30px 6px, 45px -3px, -36px 15px, 54px 9px, -45px -3px, 9px 6px, -12px 10px, 18px -6px, -18px 16px, 27px 2px, -27px -7px, 33px 12px, -33px 4px, 3px 9px, -9px 3px, 12px -9px, -12px 12px, 21px 0px, -21px -12px, 27px 10px, -27px 2px, 36px -4px, -36px 15px, 42px 6px, -42px -3px, 3px 12px, -6px 6px, 9px -3px, -9px 9px, 15px 0px, -15px -6px, 18px 7px, -24px 2px, 24px -7px, -30px 10px, 33px 4px, 0 0; }
            100% { background-position: 20px 12px, -12px 16px, 32px -8px, -20px 24px, 40px 4px, -32px -12px, 48px 20px, -40px 8px, 60px -4px, -48px 20px, 72px 12px, -60px -4px, 12px 8px, -16px 14px, 24px -8px, -24px 22px, 36px 2px, -36px -10px, 44px 16px, -44px 6px, 4px 12px, -12px 4px, 16px -12px, -16px 16px, 28px 0px, -28px -16px, 36px 14px, -36px 2px, 48px -6px, -48px 20px, 56px 8px, -56px -4px, 4px 16px, -8px 8px, 12px -4px, -12px 12px, 20px 0px, -20px -8px, 24px 10px, -32px 2px, 32px -10px, -40px 14px, 44px 6px, 0 0; }
        }
        
        @keyframes twinkle {
            0% { opacity: 0.8; }
            50% { opacity: 1; }
            100% { opacity: 0.9; }
        }

        .piano-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .piano-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1));
            border-radius: 25px;
            z-index: -1;
        }

        .piano-title {
            text-align: center;
            color: white;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .piano {
            display: flex;
            justify-content: center;
            position: relative;
            background: linear-gradient(to bottom, #1a1a1a 0%, #2c2c2c 50%, #1a1a1a 100%);
            padding: 25px;
            border-radius: 15px;
            box-shadow: inset 0 8px 20px rgba(0, 0, 0, 0.6), inset 0 -3px 10px rgba(255, 255, 255, 0.1);
            border: 3px solid #444;
        }
        
        .piano::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 5px;
            right: 5px;
            height: 8px;
            background: linear-gradient(to right, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.1));
            border-radius: 10px;
        }

        /* ÁôΩÈîÆÊ†∑Âºè */
        .key {
            width: 60px;
            height: 200px;
            background: linear-gradient(to bottom, #ffffff 0%, #f8f8f8 50%, #f0f0f0 100%);
            border: 2px solid #ccc;
            border-top: 3px solid #e0e0e0;
            border-radius: 0 0 10px 10px;
            cursor: pointer;
            position: relative;
            margin: 0 1px;
            transition: all 0.15s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.8);
            z-index: 1;
        }
        
        .key::before {
            content: '';
            position: absolute;
            top: 0;
            left: 2px;
            right: 2px;
            height: 20px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.3));
            border-radius: 0 0 5px 5px;
        }

        .key:hover {
            background: linear-gradient(to bottom, #f8f8f8 0%, #f0f0f0 50%, #e8e8e8 100%);
            transform: translateY(-1px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.9);
        }

        .key.active {
            background: linear-gradient(to bottom, #e8e8e8 0%, #d8d8d8 50%, #d0d0d0 100%);
            transform: translateY(3px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4), inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .key.wrong {
            background: linear-gradient(to bottom, #ff6b6b 0%, #ff5252 50%, #f44336 100%);
            transform: translateY(3px);
            box-shadow: 0 2px 6px rgba(244, 67, 54, 0.6), inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* ÈªëÈîÆÊ†∑Âºè */
        .key.black {
            width: 36px;
            height: 120px;
            background: linear-gradient(to bottom, #2a2a2a 0%, #1a1a1a 50%, #0a0a0a 100%);
            position: absolute;
            z-index: 2;
            border: 2px solid #000;
            border-top: 3px solid #444;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .key.black::before {
            content: '';
            position: absolute;
            top: 0;
            left: 2px;
            right: 2px;
            height: 15px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
            border-radius: 0 0 3px 3px;
        }

        .key.black:hover {
            background: linear-gradient(to bottom, #3a3a3a 0%, #2a2a2a 50%, #1a1a1a 100%);
            transform: translateY(-1px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7), inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .key.black.active {
            background: linear-gradient(to bottom, #1a1a1a 0%, #0a0a0a 50%, #000 100%);
            transform: translateY(2px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.8), inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        /* Èü≥Á¨¶Âáª‰∏≠È¢úËâ≤ÊïàÊûú */
        .key.hit-c {
            background: linear-gradient(to bottom, #FF6B6B 0%, #FF5252 50%, #f44336 100%) !important;
            box-shadow: 0 4px 12px rgba(255,107,107,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.hit-d {
            background: linear-gradient(to bottom, #FF9500 0%, #FF8F00 50%, #FF6F00 100%) !important;
            box-shadow: 0 4px 12px rgba(255,149,0,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.hit-e {
            background: linear-gradient(to bottom, #FFD54F 0%, #FFC107 50%, #FF8F00 100%) !important;
            box-shadow: 0 4px 12px rgba(255,213,79,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.hit-f {
            background: linear-gradient(to bottom, #4CAF50 0%, #45a049 50%, #388E3C 100%) !important;
            box-shadow: 0 4px 12px rgba(76,175,80,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.hit-g {
            background: linear-gradient(to bottom, #26C6DA 0%, #00BCD4 50%, #0097A7 100%) !important;
            box-shadow: 0 4px 12px rgba(38,198,218,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.hit-a {
            background: linear-gradient(to bottom, #42A5F5 0%, #2196F3 50%, #1976D2 100%) !important;
            box-shadow: 0 4px 12px rgba(66,165,245,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.hit-b {
            background: linear-gradient(to bottom, #AB47BC 0%, #9C27B0 50%, #7B1FA2 100%) !important;
            box-shadow: 0 4px 12px rgba(171,71,188,0.6), inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
            transform: translateY(1px) !important;
        }
        
        .key.black.hit-black {
            background: linear-gradient(to bottom, #666 0%, #444 50%, #222 100%) !important;
            box-shadow: 0 4px 12px rgba(102,102,102,0.8), inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
            transform: translateY(1px) !important;
        }

        /* Èü≥Á¨¶Ê†áÁ≠æ */
        .key-label {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 13px;
            font-weight: bold;
            color: #555;
            pointer-events: none;
            user-select: none;
            background: rgba(255, 255, 255, 0.8);
            padding: 2px 6px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .key.black .key-label {
            color: #fff;
            font-size: 11px;
            bottom: 12px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* ÈîÆÁõòÊåáÂêëÊèêÁ§∫ */
        .keyboard-hint {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: bold;
            pointer-events: none;
            user-select: none;
            opacity: 0.95;
            z-index: 5;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .keyboard-hint::before {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid #667eea;
        }

        .key.black .keyboard-hint {
            top: -25px;
            font-size: 11px;
            padding: 5px 8px;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        }

        .key.black .keyboard-hint::before {
            border-top-color: #2c3e50;
        }

        /* Èü≥Á¨¶Âä®Áîª */
        .note-animation {
            position: absolute;
            left: 50%;
            top: -30px;
            transform: translateX(-50%);
            font-size: 24px;
            color: #ff6b6b;
            pointer-events: none;
            animation: noteFloat 1s ease-out forwards;
            z-index: 10;
        }

        @keyframes noteFloat {
            0% {
                opacity: 1;
                transform: translateX(-50%) translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateX(-50%) translateY(-50px) scale(1.5);
            }
        }

        /* ÊéßÂà∂Èù¢Êùø */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .control-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .control-btn:hover::before {
            left: 100%;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .control-btn:active {
            transform: translateY(0);
        }

        /* Èü≥ÈáèÊéßÂà∂ */
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            font-size: 14px;
        }

        .volume-slider {
            width: 100px;
            height: 5px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            outline: none;
            cursor: pointer;
        }

        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 15px;
            height: 15px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Ê∏∏Êàè‰ø°ÊÅØÊòæÁ§∫ */
        .game-info {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .score-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            font-size: 18px;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .score-display span {
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
        }
        
        .combo-stage {
            margin-top: 10px;
            padding: 8px 16px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d, #6bcf7f, #4ecdc4, #45b7d1, #96ceb4, #feca57);
            background-size: 300% 300%;
            animation: comboGradient 2s ease infinite;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .combo-stage-text {
            font-size: 16px;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
            letter-spacing: 1px;
        }
        
        @keyframes comboGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Ê≠åÊõ≤ÈÄâÊã©ÂíåÈöæÂ∫¶ÈÄâÊã© */
        .song-selection, .difficulty-selection {
            margin-bottom: 15px;
            text-align: center;
        }
        
        .song-selection label, .difficulty-selection label {
            color: #fff;
            font-weight: bold;
            margin-right: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .song-select {
            padding: 8px 12px;
            border-radius: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            color: #fff;
            font-weight: bold;
            backdrop-filter: blur(10px);
            outline: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .song-select:hover {
            border-color: rgba(255,255,255,0.5);
            background: linear-gradient(135deg, rgba(255,255,255,0.3), rgba(255,255,255,0.2));
        }
        
        .song-select option {
            background: #333;
            color: #fff;
        }
        
        /* Ê∏∏ÊàèÊéßÂà∂ÊåâÈíÆ */
        .game-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .display-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        /* Âà§ÂÆöÁ∫ø */
        .judge-line {
            position: absolute;
            top: 120px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #ffd93d, #6bcf7f, #4ecdc4, #45b7d1);
            box-shadow: 0 0 10px rgba(255,255,255,0.8);
            z-index: 10;
            opacity: 0; /* ÈöêËóèÂà§ÂÆöÁ∫ø */
        }
        
        /* ‰∏ãËêΩÈü≥Á¨¶ */
        .falling-note {
            position: absolute;
            width: 30px;
            height: 20px;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        /* ÈªëÈîÆÈü≥Á¨¶Ê†∑Âºè */
        .falling-note.black-note {
            background: linear-gradient(45deg, #2C2C2C, #1A1A1A);
            border: 1px solid #444;
            box-shadow: 0 2px 6px rgba(0,0,0,0.5);
        }
        
        /* CË∞ÉÈü≥Á¨¶ - Á∫¢Ëâ≤Á≥ª */
        .falling-note.note-c {
            background: linear-gradient(45deg, #FF6B6B, #FF5252);
            box-shadow: 0 2px 4px rgba(255,107,107,0.4), 0 0 10px rgba(255,107,107,0.3);
        }
        
        /* DË∞ÉÈü≥Á¨¶ - Ê©ôËâ≤Á≥ª */
        .falling-note.note-d {
            background: linear-gradient(45deg, #FF9500, #FF8F00);
            box-shadow: 0 2px 4px rgba(255,149,0,0.4), 0 0 10px rgba(255,149,0,0.3);
        }
        
        /* EË∞ÉÈü≥Á¨¶ - ÈªÑËâ≤Á≥ª */
        .falling-note.note-e {
            background: linear-gradient(45deg, #FFD54F, #FFC107);
            box-shadow: 0 2px 4px rgba(255,213,79,0.4), 0 0 10px rgba(255,213,79,0.3);
        }
        
        /* FË∞ÉÈü≥Á¨¶ - ÁªøËâ≤Á≥ª */
        .falling-note.note-f {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            box-shadow: 0 2px 4px rgba(76,175,80,0.4), 0 0 10px rgba(76,175,80,0.3);
        }
        
        /* GË∞ÉÈü≥Á¨¶ - ÈùíËâ≤Á≥ª */
        .falling-note.note-g {
            background: linear-gradient(45deg, #26C6DA, #00BCD4);
            box-shadow: 0 2px 4px rgba(38,198,218,0.4), 0 0 10px rgba(38,198,218,0.3);
        }
        
        /* AË∞ÉÈü≥Á¨¶ - ËìùËâ≤Á≥ª */
        .falling-note.note-a {
            background: linear-gradient(45deg, #42A5F5, #2196F3);
            box-shadow: 0 2px 4px rgba(66,165,245,0.4), 0 0 10px rgba(66,165,245,0.3);
        }
        
        /* BË∞ÉÈü≥Á¨¶ - Á¥´Ëâ≤Á≥ª */
        .falling-note.note-b {
            background: linear-gradient(45deg, #AB47BC, #9C27B0);
            box-shadow: 0 2px 4px rgba(171,71,188,0.4), 0 0 10px rgba(171,71,188,0.3);
        }
        
        /* ÁâπÊÆäÊïàÊûúÈü≥Á¨¶ */
        .falling-note.special {
            background: linear-gradient(45deg, #FFD700, #FFA000, #FF6B6B, #E91E63, #9C27B0, #673AB7);
            background-size: 300% 300%;
            animation: rainbowShift 1.5s ease-in-out infinite, noteFloat 2s ease-in-out infinite;
            box-shadow: 0 2px 8px rgba(255,215,0,0.6), 0 0 15px rgba(255,215,0,0.4);
            width: 35px;
            height: 25px;
        }
        
        /* Èü≥Á¨¶Â∞∫ÂØ∏ÂèòÂåñ */
        .falling-note {
            width: 30px; /* ÈªòËÆ§ÂÆΩÂ∫¶ */
            height: 20px; /* ÈªòËÆ§È´òÂ∫¶ */
        }
        .falling-note.note-c { width: 28px; height: 18px; }
        .falling-note.note-d { width: 32px; height: 22px; }
        .falling-note.note-e { width: 30px; height: 20px; }
        .falling-note.note-f { width: 29px; height: 19px; }
        .falling-note.note-g { width: 33px; height: 23px; }
        .falling-note.note-a { width: 31px; height: 21px; }
        .falling-note.note-b { width: 34px; height: 24px; }
        
        /* ÈªëÈîÆÈü≥Á¨¶Á®çÂ∞è‰∏Ä‰∫õ */
        .falling-note.black-note {
            width: 26px;
            height: 16px;
        }
        
        .falling-note::before {
            content: '‚ô™';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        /* ‰∏çÂêåÈü≥Á¨¶ÁöÑÁ¨¶Âè∑ÂèòÂåñ */
        .falling-note.note-c::before { content: '‚ô™'; }
        .falling-note.note-d::before { content: '‚ô´'; }
        .falling-note.note-e::before { content: '‚ô¨'; }
        .falling-note.note-f::before { content: '‚ô≠'; }
        .falling-note.note-g::before { content: '‚ôÆ'; }
        .falling-note.note-a::before { content: '‚ôØ'; }
        .falling-note.note-b::before { content: 'ùÑû'; }
        .falling-note.special::before { 
            content: '‚òÖ'; 
            font-size: 16px;
            animation: spin 1s linear infinite;
        }
        
        /* ÈªëÈîÆÈü≥Á¨¶ÁöÑÁâπÊÆäÁ¨¶Âè∑ */
        .falling-note.black-note::before {
            content: '‚ô≠';
            color: #ccc;
        }
        
        /* ÊóãËΩ¨Âä®Áîª */
        @keyframes spin {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .falling-note::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            border-radius: 25px;
            animation: shimmer 1.5s ease-in-out infinite;
        }
        
        /* Èü≥Á¨¶ÊµÆÂä®Âä®Áîª */
        @keyframes noteFloat {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-2px) rotate(1deg);
            }
            75% {
                transform: translateY(2px) rotate(-1deg);
            }
        }
        
        /* ÂΩ©ËôπÊ∏êÂèòÂä®Áîª */
        @keyframes rainbowShift {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        /* Èó™ÁÉÅÂä®Áîª */
        @keyframes shimmer {
            0% {
                opacity: 0.3;
                transform: rotate(0deg);
            }
            50% {
                opacity: 0.8;
                transform: rotate(180deg);
            }
            100% {
                opacity: 0.3;
                transform: rotate(360deg);
            }
        }
        
        @keyframes noteGlow {
            0% { 
                box-shadow: 
                    0 6px 12px rgba(0,0,0,0.4),
                    0 0 20px rgba(255,107,107,0.6),
                    inset 0 2px 4px rgba(255,255,255,0.3);
                transform: scale(1);
            }
            50% {
                box-shadow: 
                    0 8px 16px rgba(0,0,0,0.5),
                    0 0 30px rgba(255,107,107,0.8),
                    inset 0 3px 6px rgba(255,255,255,0.4);
                transform: scale(1.05);
            }
            100% { 
                box-shadow: 
                    0 6px 12px rgba(0,0,0,0.4),
                    0 0 20px rgba(255,107,107,0.6),
                    inset 0 2px 4px rgba(255,255,255,0.3);
                transform: scale(1);
            }
        }
        
        @keyframes noteSpin {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }
        
        @keyframes shimmer {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        /* Âà§ÂÆöÁªìÊûú */
        .judgment {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            z-index: 15;
            animation: judgmentFloat 1.2s ease-out forwards;
            pointer-events: none;
            font-family: 'Arial', sans-serif;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        .judgment.perfect {
            color: #ffd93d;
            text-shadow: 
                0 0 10px #ffd93d,
                0 0 20px #ffd93d,
                0 0 30px #ffd93d,
                0 2px 4px rgba(0,0,0,0.3);
            animation: 
                judgmentFloat 1.2s ease-out forwards, 
                perfectGlow 0.3s ease-out,
                perfectPulse 0.6s ease-out;
            font-size: 32px;
        }
        
        .judgment.good {
            color: #6bcf7f;
            text-shadow: 
                0 0 10px #6bcf7f,
                0 0 20px #6bcf7f,
                0 2px 4px rgba(0,0,0,0.3);
            animation: 
                judgmentFloat 1.2s ease-out forwards,
                goodBounce 0.5s ease-out;
            font-size: 28px;
        }
        
        .judgment.miss {
            color: #ff6b6b;
            text-shadow: 
                0 0 10px #ff6b6b,
                0 0 20px #ff6b6b,
                0 2px 4px rgba(0,0,0,0.3);
            animation: 
                judgmentFloat 1.2s ease-out forwards, 
                missShake 0.3s ease-out,
                missFlash 0.3s ease-out;
        }
        
        @keyframes judgmentFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.8);
            }
            20% {
                opacity: 1;
                transform: translateY(-10px) scale(1.3);
            }
            60% {
                opacity: 1;
                transform: translateY(-40px) scale(1.1);
            }
            100% {
                opacity: 0;
                transform: translateY(-80px) scale(0.6);
            }
        }
        
        @keyframes perfectGlow {
            0% { transform: scale(1); }
            50% { transform: scale(1.4); }
            100% { transform: scale(1); }
        }
        
        @keyframes missShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes perfectPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        @keyframes goodBounce {
            0% { transform: translateY(0) scale(1); }
            30% { transform: translateY(-10px) scale(1.1); }
            60% { transform: translateY(-5px) scale(1.05); }
            100% { transform: translateY(0) scale(1); }
        }
        
        @keyframes missFlash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        
        /* Á≤íÂ≠êÊïàÊûúÊ†∑Âºè */
        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 20;
            animation: particleExplosion 0.8s ease-out forwards;
            box-shadow: 0 0 6px currentColor;
        }
        
        @keyframes particleExplosion {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--vx), var(--vy)) scale(0);
                opacity: 0;
            }
        }
        
        /* Èü≥Á¨¶Ê∂àÂ§±Âä®Áîª */
        .note-disappear {
            animation: noteDisappear 0.5s ease-out forwards;
        }
        
        @keyframes noteDisappear {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.3) rotate(180deg);
                opacity: 0.7;
            }
            100% {
                transform: scale(0) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* ÂÖâÁéØÊïàÊûú */
        .halo-effect {
            position: absolute;
            width: 60px;
            height: 60px;
            border: 3px solid #ffd93d;
            border-radius: 50%;
            pointer-events: none;
            z-index: 15;
            animation: haloExpand 0.6s ease-out forwards;
            box-shadow: 
                0 0 20px #ffd93d,
                inset 0 0 20px #ffd93d;
        }
        
        @keyframes haloExpand {
            0% {
                transform: scale(0.5);
                opacity: 1;
                border-width: 3px;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.8;
                border-width: 2px;
            }
            100% {
                transform: scale(2);
                opacity: 0;
                border-width: 1px;
            }
        }
        
        /* ÁªìÁÆóÁïåÈù¢Ê†∑Âºè */
        .game-result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(30, 30, 60, 0.9));
            backdrop-filter: blur(15px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            animation: fadeIn 0.2s ease-out;
            overflow-y: auto;
            padding: 20px 0;
            /* ÈöêËóèÊªöÂä®Êù° */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .game-result-overlay::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .game-result-modal {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(240, 248, 255, 0.95));
            backdrop-filter: blur(25px);
            border-radius: 25px;
            padding: 45px;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.3);
            max-width: 600px;
            width: 95%;
            max-height: 90vh;
            text-align: center;
            animation: slideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow-y: auto;
            z-index: 100000;
            /* ÈöêËóèÊªöÂä®Êù° */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        .game-result-modal::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }
        
        .game-result-modal::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
            pointer-events: none;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .result-header {
            position: relative;
            margin-bottom: 35px;
        }
        
        .result-header h2 {
            color: #2c3e50;
            font-size: 36px;
            margin-bottom: 10px;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes titleGlow {
            0% { filter: drop-shadow(0 0 5px rgba(102, 126, 234, 0.3)); }
            100% { filter: drop-shadow(0 0 15px rgba(118, 75, 162, 0.5)); }
        }
        
        .result-subtitle {
            color: #7f8c8d;
            font-size: 16px;
            margin-bottom: 20px;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out 0.3s forwards;
        }
        
        .result-score {
            margin-bottom: 35px;
        }
        
        .score-item {
            margin-bottom: 30px;
            position: relative;
        }
        
        .score-label {
            display: block;
            color: #5a6c7d;
            font-size: 20px;
            margin-bottom: 12px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .score-value {
            display: block;
            color: #2c3e50;
            font-size: 56px;
            font-weight: 900;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: scoreCounter 1.5s ease-out 0.5s both;
            position: relative;
        }
        
        @keyframes scoreCounter {
            0% { 
                transform: scale(0.5) rotateY(90deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.1) rotateY(0deg);
            }
            100% {
                transform: scale(1) rotateY(0deg);
                opacity: 1;
            }
        }
        
        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-item {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(240, 248, 255, 0.6));
            padding: 20px 15px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            animation: statSlideIn 0.3s ease-out var(--delay) both;
        }
        
        .stat-item:nth-child(1) { --delay: 0.05s; }
        .stat-item:nth-child(2) { --delay: 0.1s; }
        .stat-item:nth-child(3) { --delay: 0.15s; }
        .stat-item:nth-child(4) { --delay: 0.2s; }
        .stat-item:nth-child(5) { --delay: 0.25s; }
        
        @keyframes statSlideIn {
            0% {
                transform: translateY(30px) scale(0.8);
                opacity: 0;
            }
            100% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
        
        .stat-item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
        }
        
        .stat-label {
            display: block;
            color: #5a6c7d;
            font-size: 13px;
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .stat-value {
            display: block;
            color: #2c3e50;
            font-size: 28px;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .result-grade {
            margin: 35px 0;
            position: relative;
        }
        
        .grade-label {
            display: block;
            color: #5a6c7d;
            font-size: 20px;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .grade-container {
            position: relative;
            display: inline-block;
        }
        
        .grade-value {
            display: inline-block;
            width: 100px;
            height: 100px;
            line-height: 100px;
            font-size: 42px;
            font-weight: 900;
            color: white;
            border-radius: 50%;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            position: relative;
            animation: gradeReveal 1s ease-out 1s both;
            box-shadow: 
                0 10px 20px rgba(0, 0, 0, 0.2),
                0 0 0 4px rgba(255, 255, 255, 0.3),
                0 0 0 8px rgba(255, 255, 255, 0.1);
        }
        
        @keyframes gradeReveal {
            0% {
                transform: scale(0) rotate(180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.2) rotate(0deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }
        
        .grade-value::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border-radius: 50%;
            background: inherit;
            filter: blur(15px);
            opacity: 0.3;
            z-index: -1;
            animation: gradeGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes gradeGlow {
            0% { transform: scale(0.8); opacity: 0.2; }
            100% { transform: scale(1.1); opacity: 0.4; }
        }
        
        .grade-value.S {
            background: linear-gradient(135deg, #ffd93d, #ff9500, #ff6b35);
        }
        
        .grade-value.A {
            background: linear-gradient(135deg, #6bcf7f, #4caf50, #2e7d32);
        }
        
        .grade-value.B {
            background: linear-gradient(135deg, #4fc3f7, #2196f3, #1565c0);
        }
        
        .grade-value.C {
            background: linear-gradient(135deg, #ba68c8, #9c27b0, #6a1b9a);
        }
        
        .grade-value.D {
            background: linear-gradient(135deg, #ff8a65, #ff5722, #d84315);
        }
        
        .performance-message {
            margin: 20px 0;
            padding: 15px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            animation: messageSlide 0.8s ease-out 1.2s both;
        }
        
        .performance-message.excellent {
            background: linear-gradient(135deg, rgba(108, 207, 127, 0.2), rgba(76, 175, 80, 0.1));
            color: #2e7d32;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        .performance-message.good {
            background: linear-gradient(135deg, rgba(79, 195, 247, 0.2), rgba(33, 150, 243, 0.1));
            color: #1565c0;
            border: 1px solid rgba(33, 150, 243, 0.3);
        }
        
        .performance-message.average {
            background: linear-gradient(135deg, rgba(186, 104, 200, 0.2), rgba(156, 39, 176, 0.1));
            color: #6a1b9a;
            border: 1px solid rgba(156, 39, 176, 0.3);
        }
        
        .performance-message.poor {
            background: linear-gradient(135deg, rgba(255, 138, 101, 0.2), rgba(255, 87, 34, 0.1));
            color: #d84315;
            border: 1px solid rgba(255, 87, 34, 0.3);
        }
        
        @keyframes messageSlide {
            0% {
                transform: translateX(-100%);
                opacity: 0;
            }
            100% {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .result-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .result-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
            z-index: 10003;
            pointer-events: auto;
            min-height: 50px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .result-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        
        .result-btn:hover::before {
            left: 100%;
        }
        
        .retry-btn {
            background: linear-gradient(135deg, #667eea, #764ba2, #667eea);
            background-size: 200% 200%;
            color: white;
            animation: gradientShift 3s ease infinite;
        }
        
        .retry-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        .menu-btn {
            background: linear-gradient(135deg, #f093fb, #f5576c, #f093fb);
            background-size: 200% 200%;
            color: white;
            animation: gradientShift 3s ease infinite reverse;
        }
        
        .menu-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(245, 87, 108, 0.4);
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .piano-container {
                padding: 10px;
            }
            
            .key {
                width: 45px;
                height: 150px;
            }
            
            .key.black {
                width: 30px;
                height: 100px;
            }
            
            .score-display {
                flex-direction: column;
                gap: 10px;
            }
            
            .game-controls, .display-controls {
                flex-wrap: wrap;
            }
            
            .falling-note {
                 width: 28px;
                 height: 20px;
             }
             
             .falling-note::before {
                 font-size: 12px;
             }
             
             /* ÁªìÁÆóÁïåÈù¢ÁßªÂä®Á´ØÈÄÇÈÖç */
             .game-result-modal {
                 padding: 20px;
                 max-width: 95%;
             }
             
             .result-header h2 {
                 font-size: 24px;
                 margin-bottom: 20px;
             }
             
             .score-value {
                 font-size: 36px;
             }
             
             .result-stats {
                 grid-template-columns: 1fr;
                 gap: 10px;
             }
             
             .stat-item {
                 padding: 10px;
             }
             
             .stat-value {
                 font-size: 20px;
             }
             
             .grade-value {
                 width: 60px;
                 height: 60px;
                 line-height: 60px;
                 font-size: 28px;
             }
             
             .result-actions {
                 flex-direction: column;
                 gap: 15px;
             }
             
             .result-btn {
                 padding: 15px 25px;
                 font-size: 16px;
                 min-height: 50px;
                 width: 100%;
                 max-width: 250px;
                 margin: 0 auto;
                 display: block;
                 position: relative;
                 z-index: 10003;
                 pointer-events: auto;
             }
        }
    </style>
</head>
<body>
    <!-- ËÉåÊôØÈü≥‰πê - ÁßªÈô§Â§ñÈÉ®ËµÑÊ∫êÈÅøÂÖç404ÈîôËØØ -->
    <audio id="background-music" loop preload="none" style="display: none;">
        <!-- Èü≥È¢ëËµÑÊ∫êÂ∑≤ÁßªÈô§ÔºåÈÅøÂÖçÈÉ®ÁΩ≤Êó∂ÁöÑ404ÈîôËØØ -->
        ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅÈü≥È¢ëÊí≠Êîæ„ÄÇ
    </audio>
    
    <div class="piano-container">
        <h1 class="piano-title">üéµ Piano Hero</h1>
        
        <div class="piano" id="piano">
            <!-- Èí¢Áê¥ÈîÆÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
        </div>
        
        <!-- Ê∏∏Êàè‰ø°ÊÅØÊòæÁ§∫ -->
        <div class="game-info" style="display: none;">
            <div class="score-display">
                <span id="score">ÂæóÂàÜ: 0</span>
                <span id="combo">ËøûÂáª: 0</span>
                <span id="accuracy">ÂáÜÁ°ÆÁéá: 0%</span>
            </div>
            <div class="combo-stage" id="comboStage" style="display: none;">
                <span class="combo-stage-text"></span>
            </div>
        </div>
        
        <!-- Ê∏∏ÊàèÊéßÂà∂Èù¢Êùø -->
        <div class="controls">
            <div class="song-selection">
                <label for="songSelect">ÈÄâÊã©Ê≠åÊõ≤:</label>
                <select id="songSelect" class="song-select">
                    <option value="Ëá¥Áà±‰∏Ω‰∏ù">Ëá¥Áà±‰∏Ω‰∏ù</option>
                    <option value="ÊúàÂÖâÂ•èÈ∏£Êõ≤">ÊúàÂÖâÂ•èÈ∏£Êõ≤</option>
                    <option value="ÂúüËÄ≥ÂÖ∂ËøõË°åÊõ≤">ÂúüËÄ≥ÂÖ∂ËøõË°åÊõ≤</option>
                    <option value="Âç°ÂÜú">Âç°ÂÜú</option>
                    <option value="Áæé‰∫∫È±º">Áæé‰∫∫È±º - Êûó‰øäÊù∞</option>
                    <option value="ÁªÉ‰π†Ê®°Âºè">ÁªÉ‰π†Ê®°Âºè</option>
                </select>
            </div>
            
            <div class="difficulty-selection">
                <label for="difficultySelect">ÈÄâÊã©ÈöæÂ∫¶:</label>
                <select id="difficultySelect" class="song-select">
                    <option value="simple">ÁÆÄÂçï</option>
                    <option value="normal" selected>Ê≠£Â∏∏</option>
                    <option value="hell">Âú∞Áã±</option>
                </select>
            </div>
            
            <div class="game-controls">
                <button class="control-btn play-btn" onclick="startGame(document.getElementById('songSelect').value)">üéÆ ÂºÄÂßãÊ∏∏Êàè</button>
                <button class="control-btn pause-btn" onclick="togglePause()" style="display: none;">‚è∏Ô∏è ÊöÇÂÅú</button>
                <button class="control-btn stop-btn" onclick="stopGame()" style="display: none;">‚èπÔ∏è ÂÅúÊ≠¢</button>
                <button class="control-btn freeplay-btn" onclick="toggleFreePlay()">üéπ Ëá™Áî±ÂºπÂ•è</button>
            </div>
            
            <div class="display-controls">
                <button class="control-btn" onclick="showKeyLabels = !showKeyLabels; updateKeyLabels()">üéº ÊòæÁ§∫Èü≥Á¨¶</button>
                <button class="control-btn" onclick="showKeyboardHints = !showKeyboardHints; updateKeyboardHints()">‚å®Ô∏è ÈîÆÁõòÊèêÁ§∫</button>
            </div>
            
            <div class="volume-control">
                <label for="volumeSlider">üîä</label>
                <input type="range" id="volumeSlider" min="0" max="100" value="50" class="volume-slider">
            </div>
        </div>
        
        <!-- ÁªìÁÆóÁïåÈù¢ -->
        <div class="game-result-overlay" id="gameResultOverlay" style="display: none;">
            <div class="game-result-modal">
                <div class="result-header">
                    <h2>üéâ Ê∏∏ÊàèÁªìÊùü</h2>
                    <div class="result-subtitle" id="resultSubtitle">ÊÅ≠ÂñúÂÆåÊàêÊåëÊàòÔºÅ</div>
                </div>
                
                <div class="result-content">
                    <div class="result-score">
                        <div class="score-item">
                            <span class="score-label">ÊúÄÁªàÂæóÂàÜ</span>
                            <span class="score-value" id="finalScore">0</span>
                        </div>
                        
                        <div class="result-stats">
                            <div class="stat-item">
                                <span class="stat-label">ÂáÜÁ°ÆÁéá</span>
                                <span class="stat-value" id="finalAccuracy">0%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">ÊúÄÂ§ßËøûÂáª</span>
                                <span class="stat-value" id="finalMaxCombo">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Âáª‰∏≠Èü≥Á¨¶</span>
                                <span class="stat-value" id="finalHitNotes">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">ÊÄªÈü≥Á¨¶Êï∞</span>
                                <span class="stat-value" id="finalTotalNotes">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Ê∏∏ÊàèÈöæÂ∫¶</span>
                                <span class="stat-value" id="finalDifficulty">Ê≠£Â∏∏</span>
                            </div>
                        </div>
                        
                        <div class="result-grade">
                            <span class="grade-label">ËØÑÁ∫ß</span>
                            <div class="grade-container">
                                <span class="grade-value" id="finalGrade">C</span>
                            </div>
                        </div>
                        
                        <div class="performance-message" id="performanceMessage">
                            ÁªßÁª≠Âä™ÂäõÔºå‰Ω†‰ºöÂÅöÂæóÊõ¥Â•ΩÔºÅ
                        </div>
                    </div>
                </div>
                
                <div class="result-actions">
                    <button class="result-btn retry-btn" onclick="retryGame()">üîÑ ÂÜçËØï‰∏ÄÊ¨°</button>
                    <button class="result-btn menu-btn" onclick="backToMenu()">üè† ËøîÂõûËèúÂçï</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>